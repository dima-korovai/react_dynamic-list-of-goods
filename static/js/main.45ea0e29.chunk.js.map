{"version":3,"sources":["components/GoodsList.tsx","types/Buttons.ts","api/goods.ts","components/Loader/Loader.tsx","components/App.tsx","index.tsx"],"names":["GoodsList","_ref","goods","_jsx","children","map","good","className","style","color","name","id","Buttons","getAll","fetch","then","response","json","Loader","App","_useState","useState","_useState2","_slicedToArray","setGoods","_useState3","_useState4","goodsButton","setgoodsButton","_useState5","_useState6","loading","setLoading","_useState7","_useState8","errorMessage","setErrorMessage","_useState9","_useState10","showErrorMessage","setShowErrorMessage","_useState11","_useState12","showNoGoodsMessage","setShowNoGoodsMessage","useEffect","goodsFromServer","All","fistFive","sort","goodA","goodB","localeCompare","slice","Red","filter","setTimeout","catch","finally","_jsxs","type","onClick","length","textAlign","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.45ea0e29.chunk.js","sourcesContent":["import React from 'react';\nimport 'bulma';\nimport { Good } from '../types/Good';\n\ntype Props = {\n  goods: Good[]\n};\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <ul>\n    {goods.map(good => (\n      <li\n        key={good.id}\n        data-cy=\"good\"\n        className=\"is-family-secondary\"\n        style={{ color: good.color }}\n      >\n        {good.name}\n      </li>\n    ))}\n  </ul>\n);\n","export enum Buttons {\n  All,\n  fistFive,\n  Red,\n}\n","import { Good } from '../types/Good';\n\n// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport function getAll(): Promise<Good[]> {\n  return fetch(API_URL)\n    .then(response => response.json());\n}\n\nexport const get5First = () => {\n  return getAll().then(goods => goods.sort((goodA: Good, goodB: Good) => {\n    return goodA.name.localeCompare(goodB.name);\n  }).slice(0, 5));\n};\n\nexport const getRedGoods = () => {\n  return getAll()\n    .then(goods => goods.filter(good => good.color === 'red'));\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useEffect, useState } from 'react';\nimport 'bulma';\nimport '../App.scss';\nimport { GoodsList } from './GoodsList';\nimport { Good } from '../types/Good';\nimport { Buttons } from '../types/Buttons';\n\nimport { getAll, get5First, getRedGoods } from '../api/goods';\nimport { Loader } from './Loader/Loader';\n\nexport const App: React.FC = () => {\n  const [goods, setGoods] = useState<Good[]>([]);\n  const [goodsButton, setgoodsButton] = useState<Buttons | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [showErrorMessage, setShowErrorMessage] = useState(false);\n  const [showNoGoodsMessage, setShowNoGoodsMessage] = useState(false);\n\n  useEffect(() => {\n    let goodsFromServer;\n\n    switch (goodsButton) {\n      case Buttons.All:\n        goodsFromServer = getAll();\n        break;\n      case Buttons.fistFive:\n        goodsFromServer = get5First();\n        break;\n      case Buttons.Red:\n        goodsFromServer = getRedGoods();\n        break;\n      default:\n        return;\n    }\n\n    setLoading(true);\n\n    goodsFromServer\n      .then((response: Good[]) => setTimeout(() => {\n        setGoods(response);\n        setShowNoGoodsMessage(true);\n      }, 200))\n      .catch(() => {\n        setErrorMessage(`There was a problem with data collection.\n        Please try again later`);\n        setTimeout(() => {\n          setErrorMessage('');\n        }, 2000);\n        setShowErrorMessage(true);\n      })\n      .finally(() => {\n        setTimeout(() => {\n          setLoading(false);\n        }, 200);\n      });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [goodsButton]);\n\n  return (\n    <div className=\"App m-3\">\n      <h1 className=\"title is-2\">Dynamic list of Goods</h1>\n\n      <button\n        className=\"subtitle is-6\"\n        type=\"button\"\n        data-cy=\"all-button\"\n        onClick={() => setgoodsButton(Buttons.All)}\n      >\n        Load all goods\n      </button>\n\n      <button\n        className=\"subtitle is-6\"\n        type=\"button\"\n        data-cy=\"first-five-button\"\n        onClick={() => setgoodsButton(Buttons.fistFive)}\n      >\n\n        Load 5 first goods\n      </button>\n\n      <button\n        className=\"subtitle is-6\"\n        type=\"button\"\n        data-cy=\"red-button\"\n        onClick={() => setgoodsButton(Buttons.Red)}\n      >\n        Load red goods\n      </button>\n\n      {loading\n      && !errorMessage.length\n      && (\n        <Loader />\n      )}\n\n      {goodsButton !== null\n      && !loading\n      && goods.length > 0\n      && (\n        <GoodsList goods={goods} />\n      )}\n\n      {\n        showErrorMessage === false\n        && showNoGoodsMessage\n        && !errorMessage.length\n        && goods.length === 0\n        && (\n          <p\n            className=\"title is-2\"\n            style={\n              { textAlign: 'center' }\n            }\n          >\n            There are no goods\n          </p>\n        )\n      }\n\n      {errorMessage\n      && (\n        <p\n          className=\"notification is-danger\"\n          style={\n            { textAlign: 'center' }\n          }\n        >\n          {errorMessage}\n        </p>\n      )}\n\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}