{"version":3,"sources":["components/GoodsList.tsx","types/Buttons.ts","api/goods.ts","components/Loader/Loader.tsx","components/App.tsx","index.tsx"],"names":["GoodsList","_ref","goods","_jsx","children","map","good","className","name","id","Buttons","getAll","fetch","then","response","json","Loader","App","_useState","useState","_useState2","_slicedToArray","setGoods","_useState3","_useState4","goodsButton","setgoodsButton","_useState5","_useState6","loading","setLoading","_useState7","_useState8","errorMessage","setErrorMessage","_useState9","_useState10","showErrorMessage","setShowErrorMessage","_useState11","_useState12","showNoGoodsMessage","setShowNoGoodsMessage","useEffect","goodsFromServer","All","fistFive","sort","slice","Red","filter","color","setTimeout","catch","finally","_jsxs","type","onClick","length","style","textAlign","ReactDOM","render","document","getElementById"],"mappings":"wPAQaA,EAA6B,SAAHC,GAAA,IAAMC,EAAKD,EAALC,MAAK,OAChDC,cAAA,MAAAC,SACGF,EAAMG,KAAI,SAAAC,GAAI,OACbH,cAAA,MAAkB,UAAQ,OAAOI,UAAU,sBAAqBH,SAC7DE,EAAKE,MADCF,EAAKG,GAET,KAEJ,ECfKC,EAAO,SAAPA,GAAO,OAAPA,IAAO,aAAPA,IAAO,uBAAPA,IAAO,aAAPA,CAAO,MCKZ,SAASC,IACd,OAAOC,MAHI,yEAIRC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,MAAM,GACrC,C,MAEO,ICRMC,EAAS,WAAH,OACjBb,cAAA,OAAKI,UAAU,SAAS,UAAQ,SAAQH,SACtCD,cAAA,OAAKI,UAAU,qBACX,ECKKU,EAAgB,WAC3B,IAAAC,EAA0BC,mBAAiB,IAAGC,EAAAC,YAAAH,EAAA,GAAvChB,EAAKkB,EAAA,GAAEE,EAAQF,EAAA,GACtBG,EAAsCJ,mBAAyB,MAAKK,EAAAH,YAAAE,EAAA,GAA7DE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,EAA8BR,oBAAS,GAAMS,EAAAP,YAAAM,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,EAAwCZ,mBAAS,IAAGa,EAAAX,YAAAU,EAAA,GAA7CE,EAAYD,EAAA,GAAEE,EAAeF,EAAA,GACpCG,EAAgDhB,oBAAS,GAAMiB,EAAAf,YAAAc,EAAA,GAAxDE,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAC5CG,EAAoDpB,oBAAS,GAAMqB,EAAAnB,YAAAkB,EAAA,GAA5DE,EAAkBD,EAAA,GAAEE,EAAqBF,EAAA,GA2ChD,OAzCAG,qBAAU,WACR,IAAIC,EAEJ,OAAQnB,GACN,KAAKf,EAAQmC,IACXD,EAAkBjC,IAClB,MACF,KAAKD,EAAQoC,SACXF,EFfCjC,IACJE,MAAK,SAAAX,GAAK,OAAIA,EAAM6C,OAAOC,MAAM,EAAG,EAAE,IEenC,MACF,KAAKtC,EAAQuC,IACXL,EFbCjC,IACJE,MAAK,SAAAX,GAAK,OAAIA,EAAMgD,QAAO,SAAA5C,GAAI,MAAmB,QAAfA,EAAK6C,KAAe,GAAC,IEarD,MACF,QACE,OAGJrB,GAAW,GAEXc,EACG/B,MAAK,SAACC,GAAgB,OAAKsC,YAAW,WACrC9B,EAASR,GACT4B,GAAsB,EACxB,GAAG,IAAI,IACNW,OAAM,WACLnB,EAAgB,6EAEhBkB,YAAW,WACTlB,EAAgB,GAClB,GAAG,KACHI,GAAoB,EACtB,IACCgB,SAAQ,WACPF,YAAW,WACTtB,GAAW,EACb,GAAG,IACL,GAGJ,GAAG,CAACL,IAGF8B,eAAA,OAAKhD,UAAU,UAASH,SAAA,CACtBD,cAAA,MAAII,UAAU,aAAYH,SAAC,0BAE3BD,cAAA,UACEI,UAAU,gBACViD,KAAK,SACL,UAAQ,aACRC,QAAS,kBAAM/B,EAAehB,EAAQmC,IAAI,EAACzC,SAC5C,mBAIDD,cAAA,UACEI,UAAU,gBACViD,KAAK,SACL,UAAQ,oBACRC,QAAS,kBAAM/B,EAAehB,EAAQoC,SAAS,EAAC1C,SACjD,uBAKDD,cAAA,UACEI,UAAU,gBACViD,KAAK,SACL,UAAQ,aACRC,QAAS,kBAAM/B,EAAehB,EAAQuC,IAAI,EAAC7C,SAC5C,mBAIAyB,IACGI,EAAayB,QAEfvD,cAACa,EAAM,IAGQ,OAAhBS,IACGI,GACD3B,EAAMwD,OAAS,GAEhBvD,cAACH,EAAS,CAACE,MAAOA,KAIG,IAArBmC,GACGI,IACCR,EAAayB,QACG,IAAjBxD,EAAMwD,QAEPvD,cAAA,KACEI,UAAU,aACVoD,MACE,CAAEC,UAAW,UACdxD,SACF,uBAMJ6B,GAEC9B,cAAA,KACEI,UAAU,yBACVoD,MACE,CAAEC,UAAW,UACdxD,SAEA6B,MAMX,ECpIA4B,IAASC,OACP3D,cAACc,EAAG,IACJ8C,SAASC,eAAe,Q","file":"static/js/main.7486da22.chunk.js","sourcesContent":["import React from 'react';\nimport 'bulma';\nimport { Good } from '../types/Good';\n\ntype Props = {\n  goods: Good[]\n};\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => (\n  <ul>\n    {goods.map(good => (\n      <li key={good.id} data-cy=\"good\" className=\"is-family-secondary\">\n        {good.name}\n      </li>\n    ))}\n  </ul>\n);\n","export enum Buttons {\n  All,\n  fistFive,\n  Red,\n}\n","import { Good } from '../types/Good';\n\n// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nexport function getAll(): Promise<Good[]> {\n  return fetch(API_URL)\n    .then(response => response.json());\n}\n\nexport const get5First = () => {\n  return getAll()\n    .then(goods => goods.sort().slice(0, 5));\n};\n\nexport const getRedGoods = () => {\n  return getAll()\n    .then(goods => goods.filter(good => good.color === 'red'));\n};\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"Loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React, { useEffect, useState } from 'react';\nimport 'bulma';\nimport '../App.scss';\nimport { GoodsList } from './GoodsList';\nimport { Good } from '../types/Good';\nimport { Buttons } from '../types/Buttons';\n\nimport { getAll, get5First, getRedGoods } from '../api/goods';\nimport { Loader } from './Loader/Loader';\n\nexport const App: React.FC = () => {\n  const [goods, setGoods] = useState<Good[]>([]);\n  const [goodsButton, setgoodsButton] = useState<Buttons | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [showErrorMessage, setShowErrorMessage] = useState(false);\n  const [showNoGoodsMessage, setShowNoGoodsMessage] = useState(false);\n\n  useEffect(() => {\n    let goodsFromServer;\n\n    switch (goodsButton) {\n      case Buttons.All:\n        goodsFromServer = getAll();\n        break;\n      case Buttons.fistFive:\n        goodsFromServer = get5First();\n        break;\n      case Buttons.Red:\n        goodsFromServer = getRedGoods();\n        break;\n      default:\n        return;\n    }\n\n    setLoading(true);\n\n    goodsFromServer\n      .then((response: Good[]) => setTimeout(() => {\n        setGoods(response);\n        setShowNoGoodsMessage(true);\n      }, 200))\n      .catch(() => {\n        setErrorMessage(`There was a problem with data collection.\n        Please try again later`);\n        setTimeout(() => {\n          setErrorMessage('');\n        }, 2000);\n        setShowErrorMessage(true);\n      })\n      .finally(() => {\n        setTimeout(() => {\n          setLoading(false);\n        }, 200);\n      });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [goodsButton]);\n\n  return (\n    <div className=\"App m-3\">\n      <h1 className=\"title is-2\">Dynamic list of Goods</h1>\n\n      <button\n        className=\"subtitle is-6\"\n        type=\"button\"\n        data-cy=\"all-button\"\n        onClick={() => setgoodsButton(Buttons.All)}\n      >\n        Load all goods\n      </button>\n\n      <button\n        className=\"subtitle is-6\"\n        type=\"button\"\n        data-cy=\"first-five-button\"\n        onClick={() => setgoodsButton(Buttons.fistFive)}\n      >\n\n        Load 5 first goods\n      </button>\n\n      <button\n        className=\"subtitle is-6\"\n        type=\"button\"\n        data-cy=\"red-button\"\n        onClick={() => setgoodsButton(Buttons.Red)}\n      >\n        Load red goods\n      </button>\n\n      {loading\n      && !errorMessage.length\n      && (\n        <Loader />\n      )}\n\n      {goodsButton !== null\n      && !loading\n      && goods.length > 0\n      && (\n        <GoodsList goods={goods} />\n      )}\n\n      {\n        showErrorMessage === false\n        && showNoGoodsMessage\n        && !errorMessage.length\n        && goods.length === 0\n        && (\n          <p\n            className=\"title is-2\"\n            style={\n              { textAlign: 'center' }\n            }\n          >\n            There are no goods\n          </p>\n        )\n      }\n\n      {errorMessage\n      && (\n        <p\n          className=\"notification is-danger\"\n          style={\n            { textAlign: 'center' }\n          }\n        >\n          {errorMessage}\n        </p>\n      )}\n\n    </div>\n  );\n};\n","import ReactDOM from 'react-dom';\nimport { App } from './components/App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}